---
import { getCollection } from 'astro:content';
import Layout from '../layouts/BaseLayout.astro';
import EventList from '../components/EventList.astro';

const today = new Date();

const events = await getCollection('events', ({ data }) => {
  const date = data.endDate ?? data.startDate;
  return date >= today;
});
---

<Layout pageTitle="Programme">
  <EventList title="Programme" events={events} fallback="No event at the moment" />
</Layout>
